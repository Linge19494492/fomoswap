{"ast":null,"code":"var _jsxFileName = \"/Users/zhaohongwei/Downloads/fomoswap/src/views/Menu/Menu.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Menu.css';\nimport { useTranslation } from 'react-i18next';\nimport CONF from '../../tools/conf';\nimport Slogan from '../../components/Slogan/Slogan';\nimport ListItem from '../../components/ListItem/ListItem';\nimport cTime from '../../config/cTime.json'; // import TigerPdf from '../../assets/TigerSwap-PDF.pdf'\n\nimport wallet from '../../tools/wallet';\nimport conf from '../../tools/conf';\nimport { formatBigNumber } from \"../../tools\";\nimport numbro from \"numbro\";\nimport apy from \"../../tools/apy\";\n\nfunction Menu() {\n  numbro.languages();\n  const {\n    t\n  } = useTranslation();\n  const [now, setNow] = useState(Date.parse(new Date()));\n  const defaultPoolValue = \"-\";\n  let amount = 0;\n  const [usdtPoolTotal, setUsdtPoolTotal] = useState(defaultPoolValue);\n  const [fomoPoolTotal, setFomoPoolTotal] = useState(defaultPoolValue);\n  const [fomoX9PoolTotal, setFomoX9PoolTotal] = useState(defaultPoolValue);\n  const [mvmPoolTotal, setMvmPoolTotal] = useState(defaultPoolValue);\n  const [famPoolTotal, setFamPoolTotal] = useState(defaultPoolValue);\n\n  const upDateYearReate1 = () => {\n    const poolContract = conf.pool.usdtPoolAddress;\n    const lpContract = conf.lp.usdtPoolAddress;\n    const trc20Contract = conf.trc20.usdtPoolAddress;\n    const baseTokenContract = conf.lp.fomoPoolAddress; // console.log(poolContract)\n    // console.log(lpContract)\n    // console.log(trc20Contract)\n\n    wallet.poolUSDTYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 71428.57).then(yearRate => {\n      if (yearRate == \"Infinity\") {\n        setUsdtPoolTotal(\"-\");\n      } else {\n        setUsdtPoolTotal(yearRate + \"%\");\n      }\n    });\n  };\n\n  const upDateYearReate2 = () => {\n    const poolContract = conf.pool.fomoPoolAddress;\n    const lpContract = conf.lp.fomoPoolAddress;\n    const trc20Contract = conf.trc20.fomoPoolAddress;\n    const baseTokenContract = conf.lp.fomoX9PoolAddress;\n    wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 357142.85).then(yearRate => {\n      if (yearRate == \"Infinity\") {\n        setFomoPoolTotal(\"-\");\n      } else {\n        setFomoPoolTotal(yearRate + \"%\");\n      }\n    });\n  };\n\n  const upDateYearReate3 = () => {\n    const poolContract = conf.pool.fomoX9PoolAddress;\n    const lpContract = conf.lp.fomoX9PoolAddress;\n    const trc20Contract = conf.trc20.fomoX9PoolAddress;\n    const baseTokenContract = conf.lp.fomoPoolAddress;\n    wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 642857.14).then(yearRate => {\n      if (yearRate == \"Infinity\") {\n        setFomoX9PoolTotal(\"-\");\n      } else {\n        setFomoX9PoolTotal(yearRate + \"%\");\n      }\n    });\n  };\n\n  const upDateYearReate4 = () => {\n    const poolContract = conf.pool.mvmPoolAddress;\n    const lpContract = conf.lp.mvmPoolAddress;\n    const trc20Contract = conf.trc20.mvmPoolAddress;\n    const baseTokenContract = conf.lp.fomoX9PoolAddress;\n    wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 71428.57).then(yearRate => {\n      if (yearRate == \"Infinity\") {\n        setMvmPoolTotal(\"-\");\n      } else {\n        setMvmPoolTotal(yearRate + \"%\");\n      }\n    });\n  };\n\n  const upDateYearReate5 = () => {\n    const poolContract = conf.pool.famPoolAddress;\n    const lpContract = conf.lp.famPoolAddress;\n    const trc20Contract = conf.trc20.famPoolAddress;\n    const baseTokenContract = conf.lp.fomoX9PoolAddress;\n    wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 285714.28).then(yearRate => {\n      if (yearRate == \"Infinity\") {\n        setFamPoolTotal(\"-\");\n      } else {\n        setFamPoolTotal(yearRate + \"%\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    function clock() {\n      setNow(Date.parse(new Date()));\n    }\n\n    const timer = setInterval(clock, 1000);\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate1);\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate2);\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate3);\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate4);\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate5);\n    setInterval(() => {\n      upDateYearReate1();\n      upDateYearReate2();\n      upDateYearReate3();\n      upDateYearReate4();\n      upDateYearReate5();\n      console.log(\"update ui\");\n    }, 20 * 1000);\n    return () => {\n      clearInterval(timer);\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate1);\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate2);\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate3);\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate4);\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate5);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Slogan, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tokens-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    cTime: cTime.usdt,\n    is_usdt: true,\n    title: \"USDT/TRX LP\",\n    now: now,\n    poolName: \"usdtPoolAddress\",\n    total: usdtPoolTotal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    cTime: cTime.fomo,\n    is_fomo: true,\n    title: \"FOMO/TRX LP\",\n    now: now,\n    poolName: \"fomoPoolAddress\",\n    total: fomoPoolTotal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    cTime: cTime.fomox9,\n    is_fomox9: true,\n    title: \"FOMOX9/TRX LP\",\n    now: now,\n    poolName: \"fomoX9PoolAddress\",\n    total: fomoX9PoolTotal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    cTime: cTime.mvm,\n    is_mvm: true,\n    title: \"MVM/TRX LP\",\n    now: now,\n    poolName: \"mvmPoolAddress\",\n    total: mvmPoolTotal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    cTime: cTime.fam,\n    is_fam: true,\n    title: \"FAM/TRX LP\",\n    now: now,\n    poolName: \"famPoolAddress\",\n    total: famPoolTotal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Menu;","map":{"version":3,"sources":["/Users/zhaohongwei/Downloads/fomoswap/src/views/Menu/Menu.js"],"names":["React","useState","useEffect","useTranslation","CONF","Slogan","ListItem","cTime","wallet","conf","formatBigNumber","numbro","apy","Menu","languages","t","now","setNow","Date","parse","defaultPoolValue","amount","usdtPoolTotal","setUsdtPoolTotal","fomoPoolTotal","setFomoPoolTotal","fomoX9PoolTotal","setFomoX9PoolTotal","mvmPoolTotal","setMvmPoolTotal","famPoolTotal","setFamPoolTotal","upDateYearReate1","poolContract","pool","usdtPoolAddress","lpContract","lp","trc20Contract","trc20","baseTokenContract","fomoPoolAddress","poolUSDTYearRate","then","yearRate","upDateYearReate2","fomoX9PoolAddress","poolYearRate","upDateYearReate3","upDateYearReate4","mvmPoolAddress","upDateYearReate5","famPoolAddress","clock","timer","setInterval","eventEmitter","on","eventConstant","wallet_connection","console","log","clearInterval","removeListener","usdt","fomo","fomox9","mvm","fam"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,YAAP;AAEA,SAAQC,cAAR,QAA6B,eAA7B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AAEA,OAAOC,KAAP,MAAkB,yBAAlB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,SAAQC,eAAR,QAA8B,aAA9B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;AAGA,SAASC,IAAT,GAAgB;AACZF,EAAAA,MAAM,CAACG,SAAP;AACA,QAAM;AAACC,IAAAA;AAAD,MAAMZ,cAAc,EAA1B;AAEA,QAAM,CAACa,GAAD,EAAMC,MAAN,IAAgBhB,QAAQ,CAACiB,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,CAAD,CAA9B;AAEA,QAAME,gBAAgB,GAAG,GAAzB;AACA,MAAIC,MAAM,GAAe,CAAzB;AAEA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAwCtB,QAAQ,CAACmB,gBAAD,CAAtD;AACA,QAAM,CAACI,aAAD,EAAgBC,gBAAhB,IAAwCxB,QAAQ,CAACmB,gBAAD,CAAtD;AACA,QAAM,CAACM,eAAD,EAAkBC,kBAAlB,IAAwC1B,QAAQ,CAACmB,gBAAD,CAAtD;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAwC5B,QAAQ,CAACmB,gBAAD,CAAtD;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAwC9B,QAAQ,CAACmB,gBAAD,CAAtD;;AAEA,QAAMY,gBAAgB,GAAG,MAAM;AAC3B,UAAMC,YAAY,GAAQxB,IAAI,CAACyB,IAAL,CAAUC,eAApC;AACA,UAAMC,UAAU,GAAU3B,IAAI,CAAC4B,EAAL,CAAQF,eAAlC;AACA,UAAMG,aAAa,GAAO7B,IAAI,CAAC8B,KAAL,CAAWJ,eAArC;AACA,UAAMK,iBAAiB,GAAG/B,IAAI,CAAC4B,EAAL,CAAQI,eAAlC,CAJ2B,CAM3B;AACA;AACA;;AAEAjC,IAAAA,MAAM,CAACkC,gBAAP,CAAwBJ,aAAxB,EAAuCL,YAAvC,EAAqDG,UAArD,EAAiEI,iBAAjE,EAAoF,QAApF,EAA8FG,IAA9F,CAAmGC,QAAQ,IAAI;AAC3G,UAAIA,QAAQ,IAAI,UAAhB,EAA4B;AACxBrB,QAAAA,gBAAgB,CAAC,GAAD,CAAhB;AACH,OAFD,MAEO;AACHA,QAAAA,gBAAgB,CAACqB,QAAQ,GAAG,GAAZ,CAAhB;AACH;AACJ,KAND;AAOH,GAjBD;;AAmBA,QAAMC,gBAAgB,GAAG,MAAM;AAC3B,UAAMZ,YAAY,GAAQxB,IAAI,CAACyB,IAAL,CAAUO,eAApC;AACA,UAAML,UAAU,GAAU3B,IAAI,CAAC4B,EAAL,CAAQI,eAAlC;AACA,UAAMH,aAAa,GAAO7B,IAAI,CAAC8B,KAAL,CAAWE,eAArC;AACA,UAAMD,iBAAiB,GAAG/B,IAAI,CAAC4B,EAAL,CAAQS,iBAAlC;AAEAtC,IAAAA,MAAM,CAACuC,YAAP,CAAoBT,aAApB,EAAmCL,YAAnC,EAAiDG,UAAjD,EAA6DI,iBAA7D,EAAgF,SAAhF,EAA2FG,IAA3F,CAAgGC,QAAQ,IAAI;AACxG,UAAIA,QAAQ,IAAI,UAAhB,EAA4B;AACxBnB,QAAAA,gBAAgB,CAAC,GAAD,CAAhB;AACH,OAFD,MAEO;AACHA,QAAAA,gBAAgB,CAACmB,QAAQ,GAAG,GAAZ,CAAhB;AACH;AACJ,KAND;AAOH,GAbD;;AAeA,QAAMI,gBAAgB,GAAG,MAAM;AAC3B,UAAMf,YAAY,GAAQxB,IAAI,CAACyB,IAAL,CAAUY,iBAApC;AACA,UAAMV,UAAU,GAAU3B,IAAI,CAAC4B,EAAL,CAAQS,iBAAlC;AACA,UAAMR,aAAa,GAAO7B,IAAI,CAAC8B,KAAL,CAAWO,iBAArC;AACA,UAAMN,iBAAiB,GAAG/B,IAAI,CAAC4B,EAAL,CAAQI,eAAlC;AAEAjC,IAAAA,MAAM,CAACuC,YAAP,CAAoBT,aAApB,EAAmCL,YAAnC,EAAiDG,UAAjD,EAA6DI,iBAA7D,EAAgF,SAAhF,EAA2FG,IAA3F,CAAgGC,QAAQ,IAAI;AACxG,UAAIA,QAAQ,IAAI,UAAhB,EAA4B;AACxBjB,QAAAA,kBAAkB,CAAC,GAAD,CAAlB;AACH,OAFD,MAEO;AACHA,QAAAA,kBAAkB,CAACiB,QAAQ,GAAG,GAAZ,CAAlB;AACH;AACJ,KAND;AAOH,GAbD;;AAeA,QAAMK,gBAAgB,GAAG,MAAM;AAC3B,UAAMhB,YAAY,GAAQxB,IAAI,CAACyB,IAAL,CAAUgB,cAApC;AACA,UAAMd,UAAU,GAAU3B,IAAI,CAAC4B,EAAL,CAAQa,cAAlC;AACA,UAAMZ,aAAa,GAAO7B,IAAI,CAAC8B,KAAL,CAAWW,cAArC;AACA,UAAMV,iBAAiB,GAAG/B,IAAI,CAAC4B,EAAL,CAAQS,iBAAlC;AAEAtC,IAAAA,MAAM,CAACuC,YAAP,CAAoBT,aAApB,EAAmCL,YAAnC,EAAiDG,UAAjD,EAA6DI,iBAA7D,EAAgF,QAAhF,EAA0FG,IAA1F,CAA+FC,QAAQ,IAAI;AACvG,UAAIA,QAAQ,IAAI,UAAhB,EAA4B;AACxBf,QAAAA,eAAe,CAAC,GAAD,CAAf;AACH,OAFD,MAEO;AACHA,QAAAA,eAAe,CAACe,QAAQ,GAAG,GAAZ,CAAf;AACH;AACJ,KAND;AAOH,GAbD;;AAeA,QAAMO,gBAAgB,GAAG,MAAM;AAC3B,UAAMlB,YAAY,GAAQxB,IAAI,CAACyB,IAAL,CAAUkB,cAApC;AACA,UAAMhB,UAAU,GAAU3B,IAAI,CAAC4B,EAAL,CAAQe,cAAlC;AACA,UAAMd,aAAa,GAAO7B,IAAI,CAAC8B,KAAL,CAAWa,cAArC;AACA,UAAMZ,iBAAiB,GAAG/B,IAAI,CAAC4B,EAAL,CAAQS,iBAAlC;AAEAtC,IAAAA,MAAM,CAACuC,YAAP,CAAoBT,aAApB,EAAmCL,YAAnC,EAAiDG,UAAjD,EAA6DI,iBAA7D,EAAgF,SAAhF,EAA2FG,IAA3F,CAAgGC,QAAQ,IAAI;AACxG,UAAIA,QAAQ,IAAI,UAAhB,EAA4B;AACxBb,QAAAA,eAAe,CAAC,GAAD,CAAf;AACH,OAFD,MAEO;AACHA,QAAAA,eAAe,CAACa,QAAQ,GAAG,GAAZ,CAAf;AACH;AACJ,KAND;AAOH,GAbD;;AAeA1C,EAAAA,SAAS,CAAC,MAAM;AAEZ,aAASmD,KAAT,GAAiB;AACbpC,MAAAA,MAAM,CAACC,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,CAAD,CAAN;AACH;;AAED,UAAMoC,KAAK,GAAGC,WAAW,CAACF,KAAD,EAAQ,IAAR,CAAzB;AAEA7C,IAAAA,MAAM,CAACgD,YAAP,CAAoBC,EAApB,CAAuBjD,MAAM,CAACkD,aAAP,CAAqBC,iBAA5C,EAA+D3B,gBAA/D;AACAxB,IAAAA,MAAM,CAACgD,YAAP,CAAoBC,EAApB,CAAuBjD,MAAM,CAACkD,aAAP,CAAqBC,iBAA5C,EAA+Dd,gBAA/D;AACArC,IAAAA,MAAM,CAACgD,YAAP,CAAoBC,EAApB,CAAuBjD,MAAM,CAACkD,aAAP,CAAqBC,iBAA5C,EAA+DX,gBAA/D;AACAxC,IAAAA,MAAM,CAACgD,YAAP,CAAoBC,EAApB,CAAuBjD,MAAM,CAACkD,aAAP,CAAqBC,iBAA5C,EAA+DV,gBAA/D;AACAzC,IAAAA,MAAM,CAACgD,YAAP,CAAoBC,EAApB,CAAuBjD,MAAM,CAACkD,aAAP,CAAqBC,iBAA5C,EAA+DR,gBAA/D;AAEAI,IAAAA,WAAW,CAAC,MAAM;AACdvB,MAAAA,gBAAgB;AAChBa,MAAAA,gBAAgB;AAChBG,MAAAA,gBAAgB;AAChBC,MAAAA,gBAAgB;AAChBE,MAAAA,gBAAgB;AAEhBS,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,KARU,EAQR,KAAK,IARG,CAAX;AAUA,WAAO,MAAM;AACTC,MAAAA,aAAa,CAACR,KAAD,CAAb;AACA9C,MAAAA,MAAM,CAACgD,YAAP,CAAoBO,cAApB,CAAmCvD,MAAM,CAACkD,aAAP,CAAqBC,iBAAxD,EAA2E3B,gBAA3E;AACAxB,MAAAA,MAAM,CAACgD,YAAP,CAAoBO,cAApB,CAAmCvD,MAAM,CAACkD,aAAP,CAAqBC,iBAAxD,EAA2Ed,gBAA3E;AACArC,MAAAA,MAAM,CAACgD,YAAP,CAAoBO,cAApB,CAAmCvD,MAAM,CAACkD,aAAP,CAAqBC,iBAAxD,EAA2EX,gBAA3E;AACAxC,MAAAA,MAAM,CAACgD,YAAP,CAAoBO,cAApB,CAAmCvD,MAAM,CAACkD,aAAP,CAAqBC,iBAAxD,EAA2EV,gBAA3E;AACAzC,MAAAA,MAAM,CAACgD,YAAP,CAAoBO,cAApB,CAAmCvD,MAAM,CAACkD,aAAP,CAAqBC,iBAAxD,EAA2ER,gBAA3E;AACH,KAPD;AAQH,GAhCQ,EAgCN,EAhCM,CAAT;AAkCA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAsBI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE5C,KAAK,CAACyD,IAAvB;AAA6B,IAAA,OAAO,EAAE,IAAtC;AAA4C,IAAA,KAAK,EAAC,aAAlD;AAAgE,IAAA,GAAG,EAAEhD,GAArE;AAA0E,IAAA,QAAQ,EAAC,iBAAnF;AACU,IAAA,KAAK,EAAEM,aADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAGI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEf,KAAK,CAAC0D,IAAvB;AAA6B,IAAA,OAAO,EAAE,IAAtC;AAA4C,IAAA,KAAK,EAAC,aAAlD;AAAgE,IAAA,GAAG,EAAEjD,GAArE;AAA0E,IAAA,QAAQ,EAAC,iBAAnF;AACU,IAAA,KAAK,EAAEQ,aADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAKI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEjB,KAAK,CAAC2D,MAAvB;AAA+B,IAAA,SAAS,EAAE,IAA1C;AAAgD,IAAA,KAAK,EAAC,eAAtD;AAAsE,IAAA,GAAG,EAAElD,GAA3E;AACU,IAAA,QAAQ,EAAC,mBADnB;AAEU,IAAA,KAAK,EAAEU,eAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,eAQI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEnB,KAAK,CAAC4D,GAAvB;AAA4B,IAAA,MAAM,EAAE,IAApC;AAA0C,IAAA,KAAK,EAAC,YAAhD;AAA6D,IAAA,GAAG,EAAEnD,GAAlE;AAAuE,IAAA,QAAQ,EAAC,gBAAhF;AACU,IAAA,KAAK,EAAEY,YADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,eAUI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAErB,KAAK,CAAC6D,GAAvB;AAA4B,IAAA,MAAM,EAAE,IAApC;AAA0C,IAAA,KAAK,EAAC,YAAhD;AAA6D,IAAA,GAAG,EAAEpD,GAAlE;AAAuE,IAAA,QAAQ,EAAC,gBAAhF;AACU,IAAA,KAAK,EAAEc,YADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CAtBJ,CADJ;AAsCH;;AAED,eAAejB,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './Menu.css'\r\n\r\nimport {useTranslation} from 'react-i18next'\r\nimport CONF from '../../tools/conf'\r\n\r\nimport Slogan from '../../components/Slogan/Slogan'\r\nimport ListItem from '../../components/ListItem/ListItem'\r\n\r\nimport cTime from '../../config/cTime.json'\r\n\r\n// import TigerPdf from '../../assets/TigerSwap-PDF.pdf'\r\nimport wallet from '../../tools/wallet'\r\nimport conf from '../../tools/conf'\r\nimport {formatBigNumber} from \"../../tools\"\r\nimport numbro from \"numbro\"\r\nimport apy from \"../../tools/apy\"\r\n\r\n\r\nfunction Menu() {\r\n    numbro.languages()\r\n    const {t} = useTranslation()\r\n\r\n    const [now, setNow] = useState(Date.parse(new Date()))\r\n\r\n    const defaultPoolValue = \"-\"\r\n    let amount             = 0\r\n\r\n    const [usdtPoolTotal, setUsdtPoolTotal]     = useState(defaultPoolValue)\r\n    const [fomoPoolTotal, setFomoPoolTotal]     = useState(defaultPoolValue)\r\n    const [fomoX9PoolTotal, setFomoX9PoolTotal] = useState(defaultPoolValue)\r\n    const [mvmPoolTotal, setMvmPoolTotal]       = useState(defaultPoolValue)\r\n    const [famPoolTotal, setFamPoolTotal]       = useState(defaultPoolValue)\r\n\r\n    const upDateYearReate1 = () => {\r\n        const poolContract      = conf.pool.usdtPoolAddress\r\n        const lpContract        = conf.lp.usdtPoolAddress\r\n        const trc20Contract     = conf.trc20.usdtPoolAddress\r\n        const baseTokenContract = conf.lp.fomoPoolAddress\r\n\r\n        // console.log(poolContract)\r\n        // console.log(lpContract)\r\n        // console.log(trc20Contract)\r\n\r\n        wallet.poolUSDTYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 71428.57).then(yearRate => {\r\n            if (yearRate == \"Infinity\") {\r\n                setUsdtPoolTotal(\"-\")\r\n            } else {\r\n                setUsdtPoolTotal(yearRate + \"%\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const upDateYearReate2 = () => {\r\n        const poolContract      = conf.pool.fomoPoolAddress\r\n        const lpContract        = conf.lp.fomoPoolAddress\r\n        const trc20Contract     = conf.trc20.fomoPoolAddress\r\n        const baseTokenContract = conf.lp.fomoX9PoolAddress\r\n\r\n        wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 357142.85).then(yearRate => {\r\n            if (yearRate == \"Infinity\") {\r\n                setFomoPoolTotal(\"-\")\r\n            } else {\r\n                setFomoPoolTotal(yearRate + \"%\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const upDateYearReate3 = () => {\r\n        const poolContract      = conf.pool.fomoX9PoolAddress\r\n        const lpContract        = conf.lp.fomoX9PoolAddress\r\n        const trc20Contract     = conf.trc20.fomoX9PoolAddress\r\n        const baseTokenContract = conf.lp.fomoPoolAddress\r\n\r\n        wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 642857.14).then(yearRate => {\r\n            if (yearRate == \"Infinity\") {\r\n                setFomoX9PoolTotal(\"-\")\r\n            } else {\r\n                setFomoX9PoolTotal(yearRate + \"%\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const upDateYearReate4 = () => {\r\n        const poolContract      = conf.pool.mvmPoolAddress\r\n        const lpContract        = conf.lp.mvmPoolAddress\r\n        const trc20Contract     = conf.trc20.mvmPoolAddress\r\n        const baseTokenContract = conf.lp.fomoX9PoolAddress\r\n\r\n        wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 71428.57).then(yearRate => {\r\n            if (yearRate == \"Infinity\") {\r\n                setMvmPoolTotal(\"-\")\r\n            } else {\r\n                setMvmPoolTotal(yearRate + \"%\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const upDateYearReate5 = () => {\r\n        const poolContract      = conf.pool.famPoolAddress\r\n        const lpContract        = conf.lp.famPoolAddress\r\n        const trc20Contract     = conf.trc20.famPoolAddress\r\n        const baseTokenContract = conf.lp.fomoX9PoolAddress\r\n\r\n        wallet.poolYearRate(trc20Contract, poolContract, lpContract, baseTokenContract, 285714.28).then(yearRate => {\r\n            if (yearRate == \"Infinity\") {\r\n                setFamPoolTotal(\"-\")\r\n            } else {\r\n                setFamPoolTotal(yearRate + \"%\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        function clock() {\r\n            setNow(Date.parse(new Date()))\r\n        }\r\n\r\n        const timer = setInterval(clock, 1000)\r\n\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate1)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate2)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate3)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate4)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateYearReate5)\r\n\r\n        setInterval(() => {\r\n            upDateYearReate1()\r\n            upDateYearReate2()\r\n            upDateYearReate3()\r\n            upDateYearReate4()\r\n            upDateYearReate5()\r\n\r\n            console.log(\"update ui\")\r\n        }, 20 * 1000)\r\n\r\n        return () => {\r\n            clearInterval(timer)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate1)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate2)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate3)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate4)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateYearReate5)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n\r\n            {/*<div className=\"menu-addr\">\r\n                <a href=\"https://johnwick.io/verify/5d7d213e30f779f3ea05b595a53ed7b1\"\r\n                   target=\"new_tab\">{t('park.TIG_Audit_Report')}</a><span></span>\r\n                <a href=\"https://johnwick.io/verify/6270f43eff2e0d275717aea895ea9062\"\r\n                   target=\"new_tab\">{t('park.TIG_Pool_Audit_Report')}</a><span></span>\r\n                <a href={TigerPdf} target=\"new_tab\">{t('park.Reports_Details')}</a>\r\n            </div>*/}\r\n\r\n            <Slogan/>\r\n\r\n            {/* <div className=\"menu-addr\">\r\n                <div>{t('park.address')}:</div>\r\n                <a target=\"new_tab\" href={\"https://tronscan.org/#/token20/\" + CONF.fomoAddress}>{CONF.fomoAddress}</a>\r\n            </div>\r\n            <div className=\"menu-addr\">\r\n                <div>{t('park.address1')}:</div>\r\n                <a target=\"new_tab\"\r\n                   href={\"https://tronscan.org/#/token20/\" + CONF.fomox9Address}>{CONF.fomox9Address}</a>\r\n            </div>*/}\r\n\r\n            <div className=\"tokens-list\">\r\n                <ListItem cTime={cTime.usdt} is_usdt={true} title=\"USDT/TRX LP\" now={now} poolName='usdtPoolAddress'\r\n                          total={usdtPoolTotal}/>\r\n                <ListItem cTime={cTime.fomo} is_fomo={true} title=\"FOMO/TRX LP\" now={now} poolName='fomoPoolAddress'\r\n                          total={fomoPoolTotal}/>\r\n                <ListItem cTime={cTime.fomox9} is_fomox9={true} title=\"FOMOX9/TRX LP\" now={now}\r\n                          poolName='fomoX9PoolAddress'\r\n                          total={fomoX9PoolTotal}/>\r\n                <ListItem cTime={cTime.mvm} is_mvm={true} title=\"MVM/TRX LP\" now={now} poolName='mvmPoolAddress'\r\n                          total={mvmPoolTotal}/>\r\n                <ListItem cTime={cTime.fam} is_fam={true} title=\"FAM/TRX LP\" now={now} poolName='famPoolAddress'\r\n                          total={famPoolTotal}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu\r\n"]},"metadata":{},"sourceType":"module"}