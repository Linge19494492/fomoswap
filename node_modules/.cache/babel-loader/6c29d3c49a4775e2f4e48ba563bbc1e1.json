{"ast":null,"code":"var _jsxFileName = \"/Users/zhaohongwei/Downloads/fomoswap/src/components/Header/Header.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport wallet from '../../tools/wallet';\nimport { formatBigNumber } from '../../tools';\nimport conf from '../../tools/conf';\nimport './Header.css';\nimport MsgBox from '../MsgBox/MsgBox';\nimport logo from './../../assets/logo.png';\n\nfunction Header() {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [show, setShow] = useState(false);\n  const [key, setKey] = useState(1111);\n  const [myNum, setMyNum] = useState(0);\n  const [myNum1, setMyNum1] = useState(0);\n  let msg = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg-box-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg-box-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg-box-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg-box-icon-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"msg-box-icon2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"statistics-info-text-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, myNum), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"statistics-info-text-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, t('header.balance')))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg-box-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg-box-icon-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"msg-box-icon3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"statistics-info-text-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, myNum1), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"statistics-info-text-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, t('header.balance1'))))));\n\n  function showWallet() {\n    setShow(true);\n    setKey(key + 1);\n  }\n\n  const upDateMyNum = async () => {\n    if (wallet.getDefaultAddress().code !== 0) {\n      return;\n    }\n\n    const result = await wallet._getBalanceOf(conf.fomoAddress, wallet.getDefaultAddress().data);\n\n    if (result.code === 0) {\n      setMyNum(formatBigNumber(result.data)); // 保留两位小数\n    } else {}\n  };\n\n  const upDateMyNum1 = async () => {\n    if (wallet.getDefaultAddress().code !== 0) {\n      return;\n    }\n\n    const result = await wallet._getBalanceOf(conf.fomox9Address, wallet.getDefaultAddress().data);\n\n    if (result.code === 0) {\n      setMyNum1(formatBigNumber(result.data)); // 保留两位小数\n    } else {}\n  };\n\n  useEffect(() => {\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateMyNum);\n    wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateMyNum1); // upDateMyNum();\n\n    return () => {\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateMyNum);\n      wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateMyNum1);\n    };\n  }, []);\n\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 47\n    }\n  })))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, t('header.home'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    to: \"/menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, t('header.park'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://invite.fomoswap.me\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 46\n    }\n  }, t('header.more'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://forms.gle/KtNNtJeLrSZfgm257\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 46\n    }\n  }, t('header.airdrop'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://medium.com/@FOMOSWAP\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 46\n    }\n  }, t('header.about')))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vollet-btn btn\",\n    onClick: showWallet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, t('header.wallet')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lan-choose\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lan-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, t('header.lan')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lan-en\",\n    onClick: () => changeLanguage('en'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lan-cn\",\n    onClick: () => changeLanguage('zh'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav-mob\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, t('header.home'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    to: \"/menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, t('header.park'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://invite.fomoswap.me\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 42\n    }\n  }, t('header.more'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://forms.gle/KtNNtJeLrSZfgm257\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 42\n    }\n  }, t('header.airdrop'))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://medium.com/@FOMOSWAP\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 42\n    }\n  }, t('header.about')))), show && /*#__PURE__*/React.createElement(MsgBox, {\n    msg: msg,\n    title: t('header.account'),\n    key: key,\n    confirmCallBack: () => setShow(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 22\n    }\n  }));\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/zhaohongwei/Downloads/fomoswap/src/components/Header/Header.js"],"names":["React","useState","useEffect","Link","NavLink","useTranslation","wallet","formatBigNumber","conf","MsgBox","logo","Header","t","i18n","show","setShow","key","setKey","myNum","setMyNum","myNum1","setMyNum1","msg","showWallet","upDateMyNum","getDefaultAddress","code","result","_getBalanceOf","fomoAddress","data","upDateMyNum1","fomox9Address","eventEmitter","on","eventConstant","wallet_connection","removeListener","changeLanguage","lng"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport {Link, NavLink} from 'react-router-dom'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport wallet from '../../tools/wallet'\r\nimport {formatBigNumber} from '../../tools'\r\nimport conf from '../../tools/conf'\r\n\r\nimport './Header.css'\r\nimport MsgBox from '../MsgBox/MsgBox'\r\nimport logo from './../../assets/logo.png'\r\n\r\nfunction Header() {\r\n\r\n    const {t, i18n} = useTranslation()\r\n\r\n    const [show, setShow] = useState(false)\r\n    const [key, setKey]   = useState(1111)\r\n\r\n    const [myNum, setMyNum]   = useState(0)\r\n    const [myNum1, setMyNum1] = useState(0)\r\n\r\n    let msg = <div className=\"msg-box-body\">\r\n        <div className=\"msg-box-wrap\">\r\n            <div className=\"msg-box-container\">\r\n                <div className=\"msg-box-icon-area\">\r\n                    <i className=\"msg-box-icon2\"></i>\r\n                </div>\r\n                <div>\r\n                    <div className=\"statistics-info-text-number\">{myNum}</div>\r\n                    <div className=\"statistics-info-text-title\">{t('header.balance')}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"msg-box-container\">\r\n                <div className=\"msg-box-icon-area\">\r\n                    <i className=\"msg-box-icon3\"></i>\r\n                </div>\r\n                <div>\r\n                    <div className=\"statistics-info-text-number\">{myNum1}</div>\r\n                    <div className=\"statistics-info-text-title\">{t('header.balance1')}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    function showWallet() {\r\n        setShow(true)\r\n        setKey(key + 1)\r\n    }\r\n\r\n    const upDateMyNum = async () => {\r\n\r\n        if (wallet.getDefaultAddress().code !== 0) {\r\n            return\r\n        }\r\n\r\n        const result = await wallet._getBalanceOf(conf.fomoAddress, wallet.getDefaultAddress().data)\r\n\r\n        if (result.code === 0) {\r\n            setMyNum(formatBigNumber(result.data)) // 保留两位小数\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    const upDateMyNum1 = async () => {\r\n\r\n        if (wallet.getDefaultAddress().code !== 0) {\r\n            return\r\n        }\r\n\r\n        const result = await wallet._getBalanceOf(conf.fomox9Address, wallet.getDefaultAddress().data)\r\n\r\n        if (result.code === 0) {\r\n            setMyNum1(formatBigNumber(result.data)) // 保留两位小数\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateMyNum)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateMyNum1)\r\n\r\n        // upDateMyNum();\r\n\r\n        return () => {\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateMyNum)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateMyNum1)\r\n        }\r\n    }, [])\r\n\r\n    const changeLanguage = lng => {\r\n        i18n.changeLanguage(lng)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"header\">\r\n                <div className=\"logo-box\">\r\n                    <Link to=\"/\">\r\n                        <div className=\"logo\"><img src={logo} alt=\"logo\"/></div>\r\n                    </Link>\r\n                </div>\r\n\r\n                <ul className=\"nav\">\r\n                    <li className=\"nav-item\">\r\n                        <NavLink exact to=\"/\">{t('header.home')}</NavLink>\r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        <NavLink exact to=\"/menu\">{t('header.park')}</NavLink>\r\n                    </li>\r\n\r\n                    {/*<li className=\"nav-item\"><a target=\"new_tab\" href=\"https://medium.com/@FOMOSWAP\">{t('header.more')}</a></li>*/}\r\n                    <li className=\"nav-item\"><a target=\"_blank\" href=\"https://invite.fomoswap.me\">{t('header.more')}</a></li>\r\n\r\n                    <li className=\"nav-item\"><a target=\"_blank\" href=\"https://forms.gle/KtNNtJeLrSZfgm257\">{t('header.airdrop')}</a></li>\r\n                    <li className=\"nav-item\"><a target=\"_blank\" href=\"https://medium.com/@FOMOSWAP\">{t('header.about')}</a></li>\r\n                </ul>\r\n\r\n                <div className=\"header-right\">\r\n                    <div className=\"vollet-btn btn\" onClick={showWallet}>{t('header.wallet')}</div>\r\n\r\n                    <div className=\"lan-choose\">\r\n                        <div className=\"lan-text\">{t('header.lan')}</div>\r\n                        <div className=\"lan-en\" onClick={() => changeLanguage('en')}></div>\r\n                        <div className=\"lan-cn\" onClick={() => changeLanguage('zh')}></div>\r\n                    </div>\r\n                </div>\r\n\r\n            </header>\r\n\r\n            <ul className=\"nav-mob\">\r\n                <li className=\"nav-item\">\r\n                    <NavLink exact to=\"/\">{t('header.home')}</NavLink>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <NavLink exact to=\"/menu\">{t('header.park')}</NavLink>\r\n                </li>\r\n\r\n                {/*<li className=\"nav-item\"><a target=\"__blank\" href=\"https://medium.com/@FOMOSWAP\">{t('header.more')}</a></li>*/}\r\n                <li className=\"nav-item\"><a target=\"_blank\" href=\"https://invite.fomoswap.me\">{t('header.more')}</a></li>\r\n\r\n                <li className=\"nav-item\"><a target=\"_blank\" href=\"https://forms.gle/KtNNtJeLrSZfgm257\">{t('header.airdrop')}</a></li>\r\n                <li className=\"nav-item\"><a target=\"_blank\" href=\"https://medium.com/@FOMOSWAP\">{t('header.about')}</a></li>\r\n            </ul>\r\n\r\n            {show && <MsgBox msg={msg} title={t('header.account')} key={key} confirmCallBack={() => setShow(false)}/>}\r\n            {/* {msg_box} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"]},"metadata":{},"sourceType":"module"}