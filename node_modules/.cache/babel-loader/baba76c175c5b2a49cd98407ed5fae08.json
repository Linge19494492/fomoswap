{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zhaohongwei/Downloads/fomoswap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zhaohongwei/Downloads/fomoswap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/zhaohongwei/Downloads/fomoswap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useTranslation}from'react-i18next';import Slogan from'../../components/Slogan/Slogan';import StatisticsInfo from'../../components/StatisticsInfo/StatisticsInfo';import wallet from'../../tools/wallet';import{formatBigNumber}from'../../tools';import'./Home.css';import conf from'../../tools/conf';function Home(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),myNum=_useState2[0],setMyNum=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),myNum1=_useState4[0],setMyNum1=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalNum=_useState6[0],setTotalNum=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalNum1=_useState8[0],setTotalNum1=_useState8[1];// const upDateTotalNum = async () => {\n//\n//     if (wallet.getDefaultAddress().code !== 0) {\n//         return\n//     }\n//\n//     const result = await wallet._getTotalSupply(conf.tigerAddress)\n//\n//     if (result.code === 0) {\n//         // setTotalNum(formatBigNumber(result.data)) // 保留两位小数\n//     } else {\n//\n//     }\n// }\nvar upDateMyNum=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(wallet.getDefaultAddress().code!==0)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return wallet._getBalanceOf(conf.fomoAddress,wallet.getDefaultAddress().data);case 4:result=_context.sent;if(result.code===0){setMyNum(formatBigNumber(result.data));// 保留两位小数\n}else{}case 6:case\"end\":return _context.stop();}}},_callee);}));return function upDateMyNum(){return _ref.apply(this,arguments);};}();var upDateMyNum1=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(wallet.getDefaultAddress().code!==0)){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:_context2.next=4;return wallet._getBalanceOf(conf.fomox9Address,wallet.getDefaultAddress().data);case 4:result=_context2.sent;if(result.code===0){setMyNum1(formatBigNumber(result.data));// 保留两位小数\n}else{}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function upDateMyNum1(){return _ref2.apply(this,arguments);};}();var readMint=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var total,currentUnixtime,usdtStartAt,usdtRewardRate,usdtTotal,fomoX9StartAt,fomoX9RewardRate,fomoX9Total,fomoStartAt,fomoRewardRate,fomoTotal,mvmStartAt,mvmRewardRate,mvmTotal,famStartAt,famRewardRate,famTotal;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:total=0;currentUnixtime=new Date().getTime();_context3.next=4;return wallet.readMint(conf.pool.usdtPoolAddress);case 4:usdtStartAt=_context3.sent;_context3.next=7;return wallet.rewardRate(conf.pool.usdtPoolAddress);case 7:usdtRewardRate=_context3.sent;usdtTotal=Math.floor((currentUnixtime-usdtStartAt*1000)/1000*(usdtRewardRate/1e18));if(usdtTotal>0){total=usdtTotal;}_context3.next=12;return wallet.readMint(conf.pool.fomoX9PoolAddress);case 12:fomoX9StartAt=_context3.sent;_context3.next=15;return wallet.rewardRate(conf.pool.fomoX9PoolAddress);case 15:fomoX9RewardRate=_context3.sent;fomoX9Total=Math.floor((currentUnixtime-fomoX9StartAt*1000)/1000*(fomoX9RewardRate/1e18));if(fomoX9Total>0){total=total+fomoX9Total;}setTotalNum(total);_context3.next=21;return wallet.readMint(conf.pool.fomoPoolAddress);case 21:fomoStartAt=_context3.sent;_context3.next=24;return wallet.rewardRate(conf.pool.fomoPoolAddress);case 24:fomoRewardRate=_context3.sent;fomoTotal=Math.floor((currentUnixtime-fomoStartAt*1000)/1000*(fomoRewardRate/1e18));if(fomoTotal>0){total=fomoTotal;}_context3.next=29;return wallet.readMint(conf.pool.mvmPoolAddress);case 29:mvmStartAt=_context3.sent;_context3.next=32;return wallet.rewardRate(conf.pool.mvmPoolAddress);case 32:mvmRewardRate=_context3.sent;mvmTotal=Math.floor((currentUnixtime-mvmStartAt*1000)/1000*(mvmRewardRate/1e18));if(mvmTotal>0){total=total+mvmTotal;}_context3.next=37;return wallet.readMint(conf.pool.famPoolAddress);case 37:famStartAt=_context3.sent;_context3.next=40;return wallet.rewardRate(conf.pool.famPoolAddress);case 40:famRewardRate=_context3.sent;famTotal=Math.floor((currentUnixtime-famStartAt*1000)/1000*(famRewardRate/1e18));if(famTotal>0){total=total+famTotal;}setTotalNum1(total);// let startAt         = await wallet.readMint(conf.pool.fomoPoolAddress)\n// let rewardRate      = await wallet.rewardRate(conf.pool.fomoPoolAddress)\n//\n// total = Math.floor(((currentUnixtime - (startAt * 1000)) / 1000) * (rewardRate / 1e18))\n//\n// if (total < 0) {\n//     total = 0\n// }\n//\n// setTotalNum(\n//     total\n// ) // 保留两位小数\n//\n// startAt    = await wallet.readMint(conf.pool.fomoX9PoolAddress)\n// rewardRate = await wallet.rewardRate(conf.pool.fomoX9PoolAddress)\n//\n// total = Math.floor(((currentUnixtime - (startAt * 1000)) / 1000) * (rewardRate / 1e18))\n//\n// if (total < 0) {\n//     total = 0\n// }\n//\n// setTotalNum1(\n//     total\n// ) // 保留两位小数\ncase 44:case\"end\":return _context3.stop();}}},_callee3);}));return function readMint(){return _ref3.apply(this,arguments);};}();useEffect(function(){wallet.eventEmitter.on(wallet.eventConstant.wallet_connection,upDateMyNum);wallet.eventEmitter.on(wallet.eventConstant.wallet_connection,upDateMyNum1);wallet.eventEmitter.on(wallet.eventConstant.wallet_connection,readMint);// upDateTotalNum()\n// upDateMyNum()\n// readMint()\nsetInterval(function(){upDateMyNum();upDateMyNum1();readMint();console.log(\"update ui\");},20*1000);return function(){// wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateTotalNum)\nwallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection,upDateMyNum);wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection,upDateMyNum1);wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection,readMint);};},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"home\"},/*#__PURE__*/React.createElement(Slogan,null),/*#__PURE__*/React.createElement(\"div\",{className:\"statistics\"},/*#__PURE__*/React.createElement(StatisticsInfo,{name:\"balance\",number:myNum,text:t('home.balance')}),/*#__PURE__*/React.createElement(StatisticsInfo,{name:\"balance1\",number:myNum1,text:t('home.balance1')})),/*#__PURE__*/React.createElement(\"div\",{className:\"statistics\"},/*#__PURE__*/React.createElement(StatisticsInfo,{name:\"supply\",number:totalNum,text:t('home.supply')}),/*#__PURE__*/React.createElement(StatisticsInfo,{name:\"supply1\",number:totalNum1,text:t('home.supply1')})),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons\"},/*#__PURE__*/React.createElement(Link,{to:\"/menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"goto-menu-btn btn\"},t('home.see'))),/*#__PURE__*/React.createElement(\"a\",{target:\"__blank\",href:\"https://invite.fomoswap.me\"},/*#__PURE__*/React.createElement(\"div\",{className:\"goto-menu-btn btn\"},t('home.see2')))));}export default Home;","map":{"version":3,"sources":["/Users/zhaohongwei/Downloads/fomoswap/src/views/Home/Home.js"],"names":["React","useState","useEffect","Link","useTranslation","Slogan","StatisticsInfo","wallet","formatBigNumber","conf","Home","t","myNum","setMyNum","myNum1","setMyNum1","totalNum","setTotalNum","totalNum1","setTotalNum1","upDateMyNum","getDefaultAddress","code","_getBalanceOf","fomoAddress","data","result","upDateMyNum1","fomox9Address","readMint","total","currentUnixtime","Date","getTime","pool","usdtPoolAddress","usdtStartAt","rewardRate","usdtRewardRate","usdtTotal","Math","floor","fomoX9PoolAddress","fomoX9StartAt","fomoX9RewardRate","fomoX9Total","fomoPoolAddress","fomoStartAt","fomoRewardRate","fomoTotal","mvmPoolAddress","mvmStartAt","mvmRewardRate","mvmTotal","famPoolAddress","famStartAt","famRewardRate","famTotal","eventEmitter","on","eventConstant","wallet_connection","setInterval","console","log","removeListener"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport Slogan from '../../components/Slogan/Slogan'\r\nimport StatisticsInfo from '../../components/StatisticsInfo/StatisticsInfo'\r\n\r\nimport wallet from '../../tools/wallet'\r\nimport {formatBigNumber} from '../../tools'\r\n\r\nimport './Home.css'\r\nimport conf from '../../tools/conf'\r\n\r\nfunction Home() {\r\n\r\n    const {t} = useTranslation()\r\n\r\n    const [myNum, setMyNum]         = useState(0)\r\n    const [myNum1, setMyNum1]       = useState(0)\r\n    const [totalNum, setTotalNum]   = useState(0)\r\n    const [totalNum1, setTotalNum1] = useState(0)\r\n\r\n    // const upDateTotalNum = async () => {\r\n    //\r\n    //     if (wallet.getDefaultAddress().code !== 0) {\r\n    //         return\r\n    //     }\r\n    //\r\n    //     const result = await wallet._getTotalSupply(conf.tigerAddress)\r\n    //\r\n    //     if (result.code === 0) {\r\n    //         // setTotalNum(formatBigNumber(result.data)) // 保留两位小数\r\n    //     } else {\r\n    //\r\n    //     }\r\n    // }\r\n\r\n    const upDateMyNum = async () => {\r\n\r\n        if (wallet.getDefaultAddress().code !== 0) {\r\n            return\r\n        }\r\n\r\n        const result = await wallet._getBalanceOf(conf.fomoAddress, wallet.getDefaultAddress().data)\r\n\r\n        if (result.code === 0) {\r\n            setMyNum(formatBigNumber(result.data)) // 保留两位小数\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    const upDateMyNum1 = async () => {\r\n\r\n        if (wallet.getDefaultAddress().code !== 0) {\r\n            return\r\n        }\r\n\r\n        const result = await wallet._getBalanceOf(conf.fomox9Address, wallet.getDefaultAddress().data)\r\n\r\n        if (result.code === 0) {\r\n            setMyNum1(formatBigNumber(result.data)) // 保留两位小数\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    const readMint = async () => {\r\n        let total           = 0\r\n        let currentUnixtime = new Date().getTime()\r\n\r\n        let usdtStartAt    = await wallet.readMint(conf.pool.usdtPoolAddress)\r\n        let usdtRewardRate = await wallet.rewardRate(conf.pool.usdtPoolAddress)\r\n        let usdtTotal      = Math.floor(((currentUnixtime - (usdtStartAt * 1000)) / 1000) * (usdtRewardRate / 1e18))\r\n\r\n        if (usdtTotal > 0) {\r\n            total = usdtTotal\r\n        }\r\n\r\n        let fomoX9StartAt    = await wallet.readMint(conf.pool.fomoX9PoolAddress)\r\n        let fomoX9RewardRate = await wallet.rewardRate(conf.pool.fomoX9PoolAddress)\r\n        let fomoX9Total      = Math.floor(((currentUnixtime - (fomoX9StartAt * 1000)) / 1000) * (fomoX9RewardRate / 1e18))\r\n\r\n        if (fomoX9Total > 0) {\r\n            total = total + fomoX9Total\r\n        }\r\n\r\n        setTotalNum(total)\r\n\r\n        let fomoStartAt    = await wallet.readMint(conf.pool.fomoPoolAddress)\r\n        let fomoRewardRate = await wallet.rewardRate(conf.pool.fomoPoolAddress)\r\n        let fomoTotal      = Math.floor(((currentUnixtime - (fomoStartAt * 1000)) / 1000) * (fomoRewardRate / 1e18))\r\n\r\n        if (fomoTotal > 0) {\r\n            total = fomoTotal\r\n        }\r\n\r\n        let mvmStartAt    = await wallet.readMint(conf.pool.mvmPoolAddress)\r\n        let mvmRewardRate = await wallet.rewardRate(conf.pool.mvmPoolAddress)\r\n        let mvmTotal      = Math.floor(((currentUnixtime - (mvmStartAt * 1000)) / 1000) * (mvmRewardRate / 1e18))\r\n\r\n        if (mvmTotal > 0) {\r\n            total = total + mvmTotal\r\n        }\r\n\r\n        let famStartAt    = await wallet.readMint(conf.pool.famPoolAddress)\r\n        let famRewardRate = await wallet.rewardRate(conf.pool.famPoolAddress)\r\n        let famTotal      = Math.floor(((currentUnixtime - (famStartAt * 1000)) / 1000) * (famRewardRate / 1e18))\r\n\r\n        if (famTotal > 0) {\r\n            total = total + famTotal\r\n        }\r\n\r\n        setTotalNum1(total)\r\n\r\n        // let startAt         = await wallet.readMint(conf.pool.fomoPoolAddress)\r\n        // let rewardRate      = await wallet.rewardRate(conf.pool.fomoPoolAddress)\r\n        //\r\n        // total = Math.floor(((currentUnixtime - (startAt * 1000)) / 1000) * (rewardRate / 1e18))\r\n        //\r\n        // if (total < 0) {\r\n        //     total = 0\r\n        // }\r\n        //\r\n        // setTotalNum(\r\n        //     total\r\n        // ) // 保留两位小数\r\n        //\r\n        // startAt    = await wallet.readMint(conf.pool.fomoX9PoolAddress)\r\n        // rewardRate = await wallet.rewardRate(conf.pool.fomoX9PoolAddress)\r\n        //\r\n        // total = Math.floor(((currentUnixtime - (startAt * 1000)) / 1000) * (rewardRate / 1e18))\r\n        //\r\n        // if (total < 0) {\r\n        //     total = 0\r\n        // }\r\n        //\r\n        // setTotalNum1(\r\n        //     total\r\n        // ) // 保留两位小数\r\n    }\r\n\r\n    useEffect(() => {\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateMyNum)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, upDateMyNum1)\r\n        wallet.eventEmitter.on(wallet.eventConstant.wallet_connection, readMint)\r\n\r\n        // upDateTotalNum()\r\n        // upDateMyNum()\r\n        // readMint()\r\n        setInterval(() => {\r\n            upDateMyNum()\r\n            upDateMyNum1()\r\n            readMint()\r\n\r\n            console.log(\"update ui\")\r\n        }, 20 * 1000)\r\n\r\n        return () => {\r\n            // wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateTotalNum)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateMyNum)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, upDateMyNum1)\r\n            wallet.eventEmitter.removeListener(wallet.eventConstant.wallet_connection, readMint)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <Slogan/>\r\n\r\n            <div className=\"statistics\">\r\n                <StatisticsInfo name=\"balance\" number={myNum} text={t('home.balance')}/>\r\n                <StatisticsInfo name=\"balance1\" number={myNum1} text={t('home.balance1')}/>\r\n                {/*<StatisticsInfo name=\"balance\" number={0} text={t('home.balance')}/>*/}\r\n                {/*<StatisticsInfo name=\"balance1\" number={0} text={t('home.balance1')}/>*/}\r\n            </div>\r\n\r\n            <div className=\"statistics\">\r\n                <StatisticsInfo name=\"supply\" number={totalNum} text={t('home.supply')}/>\r\n                <StatisticsInfo name=\"supply1\" number={totalNum1} text={t('home.supply1')}/>\r\n                {/*<StatisticsInfo name=\"supply\" number={0} text={t('home.supply')}/>*/}\r\n                {/*<StatisticsInfo name=\"supply1\" number={0} text={t('home.supply1')}/>*/}\r\n            </div>\r\n\r\n            <div className=\"buttons\">\r\n                <Link to=\"/menu\">\r\n                    <div className=\"goto-menu-btn btn\">{t('home.see')}</div>\r\n                </Link>\r\n\r\n                <a target=\"__blank\" href=\"https://invite.fomoswap.me\">\r\n                    <div className=\"goto-menu-btn btn\">{t('home.see2')}</div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}